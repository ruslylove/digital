\documentclass[border=10pt]{standalone}
\usepackage[american]{circuitikz}
\usetikzlibrary{shapes, arrows, positioning, calc}

\begin{document}
\begin{circuitikz}
    \ctikzset{logic ports=ieee} % Use IEEE standard symbols

    % --- Place Gates First ---

    % z = D'
    \node[not port, scale=0.7] (INV_z) at (2, 0) {};
    
    % y = C XNOR D
    % Place above z
    \node[xnor port] (XNOR_y) at (2, 2) {};
    
    
    % T = C + D
    % Place roughly above/between? 
    % Let's place it to the left of x/w logic but accessible from C, D
    \node[or port] (OR_T) at (2, 4) {};
    
    % x = B XOR T
    \node[xor port] (XOR_x) at (5, 5) {};
    
    % w = A + (B . T)
    \node[and port] (AND_BT) at (5, 7) {};
    \node[or port] (OR_w) at (8, 7.5) {};

    % --- Place Inputs relative to Gate Inputs ---
    % Align x-coordinate at -1
    
    % D connects to INV_z (in), XNOR_y (in 2), OR_T (in 2)
    % Let's align D with INV_z input for straight line
    \node (D) at (-1, 0|-INV_z.in) {$D$};
    
    % C connects to XNOR_y (in 1), OR_T (in 1)
    % Align C with XNOR_y.in 1
    \node (C) at (-1, 0|-XNOR_y.in 1) {$C$};
    
    % B connects to XOR_x (in 1), AND_BT (in 2)
    % Align B with XOR_x.in 1
    \node (B) at (-1, 0|-XOR_x.in 1) {$B$};
    
    % A connects to OR_w (in 1)
    % Align A with OR_w.in 1
    \node (A) at (-1, 0|-OR_w.in 1) {$A$};
    
    
    % --- Wiring ---
    
    % D connections
    \draw (D) -- (INV_z.in);  
    \draw (XNOR_y.in 2) to[short,-*] ++(-1,0) coordinate (Dpoint2);
    \draw (Dpoint2) |- (OR_T.in 1);
    \draw (Dpoint2 |- D) to[short,*-] (Dpoint2);
    
    % C connections
    \draw (C) -- (XNOR_y.in 1);
    \draw (C) -- ++(1.5,0) coordinate (Cpoint2);
    \draw (Cpoint2) to[short,*-] (Cpoint2 |- OR_T.in 2) -- (OR_T.in 2);
    
    % B connections
    \draw (B) -- (XOR_x.in 1);
    \draw (B) to[short,-*] ++(4,0) |- (AND_BT.in 1);
    
    % A connections
    \draw (A) -- (OR_w.in 1);
    
    % T (OR_T output) connections
    \draw (OR_T.out) -- ++(0.5,0) coordinate (Tpoint2);
    \draw (Tpoint2) to[short,-*] (Tpoint2 |- XOR_x.in 2) |- (AND_BT.in 2);
    \draw (Tpoint2 |- XOR_x.in 2) -- (XOR_x.in 2);
    
    % AND_BT to OR_w
    \draw (AND_BT.out) -- ++(0.5,0) |- (OR_w.in 2);
    
    % --- Outputs ---
    \draw (INV_z.out) -- ++(7,0) node[right] {$z$};
    \draw (XNOR_y.out) -- ++(6.5,0) node[right] {$y$};
    \draw (XOR_x.out) -- ++(3.5,0) node[right] {$x$};
    \draw (OR_w.out) -- ++(0.5,0) node[right] {$w$};

\end{circuitikz}
\end{document}

\documentclass[border=10pt]{standalone}
\usepackage{circuitikz}
\usetikzlibrary{calc}

\begin{document}
\begin{circuitikz}[american, scale=1.0]
    \ctikzset{logic ports=ieee}
    \ctikzset{flipflops/scale=0.85}
    
    % Adjust spacing
    \def\vdist{4}
    \def\ffx{8} % Move FFs to x=8
    \def\orx{7.5} % Move OR gates to x=5.5
    \def\andx{2.5} % Move AND gates to x=2.5
    
    
    
    % Stage Logic
    \foreach \i [count=\n from 0] in {0,1,2,3} {
        \pgfmathsetmacro{\ypos}{\i*-3.5}
        
        % FFs on Right
        \node[flipflop JK, flipflop def={nd=1}] (FF\i) at (8, \ypos) {};
        \node[above] at (FF\i.n) {$FF_\i$};
        \draw (FF\i.pin 6) -- ++(1.5, 0) node[right] {$A_\i$};
        \path (FF\i.pin 6) -- ++(0.2, 0) coordinate (A_out_\i);
        \path (FF\i.down) -- ++(0, -0.2) coordinate (CLR_in_\i);
        \path (FF\i.pin 2) -- ++(-1, 0) coordinate (CLK_in_\i);



        %\draw (FF\i.pin 4) -- ++(0.5, 0) node[right] {$\bar{A}_\i$};
        

        
        % -- Logic Gates --
        % We need J and K drivers.
        \draw (FF\i.pin 1) -- ++(-1.5, 0) node [or port, scale=0.7, anchor=out] (OR_J_\i) {};
        \draw (FF\i.pin 3) -- ++(-1.5, 0) node [or port, scale=0.7, anchor=out] (OR_K_\i) {};
       % \draw (FF\i.pin 3) -- ++(-1.5, 0) node[left] {$K_\i$};
       % \node[or port, scale=0.7] (OR_J_\i) at ($(FF\i.pin 1) + (-1.5, 0)$) {};
       % \node [or port, scale=0.7] (OR_K_\i) at ($(FF\i.pin 3) + (-1.5, 0)$) {};

        \draw (OR_J_\i.in 1) -- ++(-5,0) node[and port, scale=0.7, anchor=out] (AND_J_\i) {};
        \draw (OR_K_\i.in 2) -- ++(-5,0) node[and port, scale=0.7, anchor=out] (AND_K_\i) {};

        \draw (AND_K_\i.in 2) -- ++(-0.5,0) node[not port, scale=0.5, anchor=out] (NOT_\i) {};
        \draw (AND_J_\i.in 2) -- ++(-4.5,0) node[left] (I_\i) {$I_\i$};
        \path (I_\i) -- ++(3,0) node[circ] (I_in_\i) {};
        \draw (NOT_\i.in) -| (I_in_\i);


        \ifnum\i=0
        \else
        \path (OR_J_\i.in 2) -- (OR_K_\i.in 1) coordinate[midway] (OR_J_K_\i);
        \node [circ] at ($(OR_J_K_\i) + (-0.5, 0)$) (Mid_\i) {};
        \draw (OR_J_\i.in 2) -| (Mid_\i);
        \draw (OR_K_\i.in 1) -| (Mid_\i);
        \draw (Mid_\i) -- ++(-0.5,0)node[and port,scale=0.7,anchor=out,number inputs={\numexpr\i+1\relax+}] (AND_COUNT_\i) {};
        \draw (FF\i.pin 2) to[short,-*] (CLK_in_\i);
        \fi
        
        \ifnum\i=3
        \else
        \draw node[circ] at (AND_K_\i.in 1) (Load_K_in_\i) {};
        \fi

        \draw node[circ] at (AND_J_\i.in 1) (Load_J_in_\i) {};


 
    }

    \draw (AND_K_3.in 1) -- ++(0,13) -- ++(-0.5,0) node[not port, scale=0.5, anchor=out] (NOT_LOAD_2) {};
    \draw (NOT_LOAD_2.in) -- ++(-1,0) node[not port, scale=0.5, anchor=out] (NOT_LOAD_1) {} 
    (NOT_LOAD_1.in) -- ++(-1,0) node[left] (Load) {$Load$};
    \node [and port, scale=0.7] at ($(NOT_LOAD_2) + (0,+1)$) (AND_COUNT) {};
    \draw (AND_COUNT.in 1) -- ++(-2.5,0) node[left] (Count) {$Count$};
    \draw (AND_COUNT.in 2) to[short,-*] (AND_COUNT.in 2 |- Load);

  %  \draw node[and port,scale=0.7] at ($(OR_J_K_1) + (-2,0)$) (AND_COUNT_1) {};
  %  \draw node[and port,scale=0.7,number inputs=3] at ($(OR_J_K_2) + (-2,0)$) (AND_COUNT_2) {};
  %  \draw node[and port,scale=0.7,number inputs=4] at ($(OR_J_K_3) + (-2,0)$) (AND_COUNT_3) {};

     \draw node[and port,scale=0.7,number inputs=5] at ($(FF3) + (0,-3)$) (AND_COUNT_4) {};
     \draw (AND_COUNT_4.out) -- ++(1.5,0) node[right] (Cout) {$C_{out}$};

     \draw (AND_COUNT.out) -- ++(2,0) coordinate (count_vert);
     \path (count_vert) -- ++ (0.5,0) coordinate (A0_vert);
     \path (count_vert) -- ++ (1,0) coordinate (A1_vert);
     \path (count_vert) -- ++ (1.5,0) coordinate (A2_vert);
     \path (count_vert) -- ++ (2,0) coordinate (A3_vert);


     \draw (count_vert) |- (AND_COUNT_4.in 5);

     \draw (A_out_0) to[short,*-] ++(0,-2.5) coordinate (FF0_turn);
     \draw (FF0_turn) -- (FF0_turn -| A0_vert) |- (AND_COUNT_4.in 4);
     \draw (A_out_1) to[short,*-] ++(0,-2.5) coordinate (FF1_turn);
     \draw (FF1_turn) -- (FF1_turn -| A1_vert) |- (AND_COUNT_4.in 3);
     \draw (A_out_2) to[short,*-] ++(0,-2.5) coordinate (FF2_turn);
     \draw (FF2_turn) -- (FF2_turn -| A2_vert) |- (AND_COUNT_4.in 2);
     \draw (A_out_3) to[short,*-] ++(0,-3.1) coordinate (FF3_turn);
     \draw (FF3_turn) -- (FF3_turn -| A3_vert) |- (AND_COUNT_4.in 1);

     % project to count_vert   
     \draw (OR_J_0.in 2) to[short,-*] (OR_J_0.in 2 -| count_vert);
     \draw (OR_K_0.in 1) to[short,-*] (OR_K_0.in 1 -| count_vert);
     \draw (AND_COUNT_1.in 1) to[short,-*] (AND_COUNT_1.in 1 -| count_vert);
     \draw (AND_COUNT_2.in 1) to[short,-*] (AND_COUNT_2.in 1 -| count_vert);
     \draw (AND_COUNT_3.in 1) to[short,-*] (AND_COUNT_3.in 1 -| count_vert);

     %project o A0_vert
    
     \draw (AND_COUNT_1.in 2) to[short,-*] (AND_COUNT_1.in 2 -| A0_vert);
     \draw (AND_COUNT_2.in 2) to[short,-*] (AND_COUNT_2.in 2 -| A0_vert);
     \draw (AND_COUNT_3.in 2) to[short,-*] (AND_COUNT_3.in 2 -| A0_vert);

     \draw (AND_COUNT_2.in 3) to[short,-*] (AND_COUNT_2.in 3 -| A1_vert);
     \draw (AND_COUNT_3.in 3) to[short,-*] (AND_COUNT_3.in 3 -| A1_vert);

     \draw (AND_COUNT_3.in 4) to[short,-*] (AND_COUNT_3.in 4 -| A2_vert);


     \draw (FF0.pin 2)-- (CLK_in_0) -- ++(0,-12.6) -- ++(-13,0) node[left] (CLK) {$CLK$};
     \draw (FF0.down) -- (CLR_in_0) -- ++(-1.5,0) coordinate (CLR_vert);
     \draw (CLR_vert) -- ++(0,-10.7) -- ++(-13.5,0) node[left] (CLR) {$Clear$};

     \foreach \i in {1,2,3} {
         \draw (FF\i.down) -- (CLR_in_\i) to[short,-*] (CLR_in_\i -| CLR_vert);
     }
     
     
     

    
    \end{circuitikz}
    \end{document}
